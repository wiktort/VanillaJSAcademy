<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form>
        <div>
            <label for="current-password">Current Password</label>
            <input type="password" name="current-password" id="current-password">
        </div>

        <div>
            <label for="new-password">New Password</label>
            <input type="password" name="new-password" id="new-password">
        </div>

        <div>
            <label for="show-passwords">
                <input type="checkbox" name="show-passwords" id="show-passwords">
                Show passwords
            </label>
        </div>

        <p>
            <button type="submit">Change Passwords</button>
        </p>
    </form>

    <script>
        /* Example of forEach function 
       
        var sandwiches = ['turkey', 'tuna', 'ham', 'pb&j'];

        // logs 0, tuna, 1, ham, 2, turkey, 3, pb&j
        sandwiches.forEach(function (sandwich, index) {
            console.log(index) // index
            console.log(sandwich) // value
        }); */


        // You can convert NodeLists into Arrays by passing them into Array.prototype.slice.call(), which will apply the Array.slice() method to other array-like objects.

        //my approach to do the task
        // const passwords = Array.prototype.slice.call(document.querySelectorAll('#current-password, #new-password'));
        // const showPasswords = document.querySelector('#show-passwords');
        // showPasswords.addEventListener("click", function () {
        //     if (showPasswords.checked) {
        //         passwords.forEach(function (password) {
        //             password.type = 'text';
        //         })
        //     } else {
        //         passwords.forEach(function (password) {
        //             password.type = 'password';
        //         })
        //     }
        // })

        //Chris's approach to do the task
        const passwords = Array.prototype.slice.call(document.querySelectorAll('[type = "password"]'));
        const showPasswords = document.querySelector('#show-passwords');
        showPasswords.addEventListener("click",
            function (event) {
                passwords.forEach(function (password) {
                    if (showPasswords.checked) {
                        password.type = 'text';
                    } else {
                        password.type = 'password';
                    }
                });
            });
    </script>
</body>

</html>